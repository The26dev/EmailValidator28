/**
 * sacred-typography.css
 * Divine typography system based on sacred geometry principles
 * Version: 1.0.0
 * 
 * This system implements:
 * - Golden ratio type scaling
 * - Sacred vertical rhythm
 * - Divine proportion spacing
 * - Universal readability patterns
 * - Sacred number sequences
 */

/* ------------------------
 * Typography Variables
 * Based on sacred proportions
 * ------------------------ */
 :root {
    /* Base Sizes */
    --font-size-base: 1rem;
    --line-height-base: var(--phi);  /* 1.618 */
    
    /* Type Scale (Based on Golden Ratio) */
    --scale-3xs: calc(var(--font-size-base) / var(--phi-cubed));    /* 0.236rem */
    --scale-2xs: calc(var(--font-size-base) / var(--phi-squared));  /* 0.382rem */
    --scale-xs: calc(var(--font-size-base) / var(--phi));          /* 0.618rem */
    --scale-sm: calc(var(--font-size-base) * var(--phi-inverse));  /* 0.618rem */
    --scale-md: var(--font-size-base);                             /* 1rem */
    --scale-lg: calc(var(--font-size-base) * var(--phi));          /* 1.618rem */
    --scale-xl: calc(var(--font-size-base) * var(--phi-squared));  /* 2.618rem */
    --scale-2xl: calc(var(--font-size-base) * var(--phi-cubed));   /* 4.236rem */
    --scale-3xl: calc(var(--font-size-base) * var(--phi-squared) * var(--phi)); /* 6.854rem */
    
    /* Font Families */
    --font-primary: 'Inter', system-ui, -apple-system, sans-serif;
    --font-secondary: 'Merriweather', Georgia, serif;
    --font-monospace: 'Fira Code', 'JetBrains Mono', monospace;
    --font-display: 'Playfair Display', serif;
    
    /* Font Weights */
    --font-weight-thin: 100;
    --font-weight-light: 300;
    --font-weight-regular: 400;
    --font-weight-medium: 500;
    --font-weight-semibold: 600;
    --font-weight-bold: 700;
    --font-weight-black: 900;
    
    /* Line Heights */
    --line-height-none: 1;
    --line-height-tight: var(--phi-inverse);      /* 0.618 */
    --line-height-snug: calc(var(--phi) * 0.8);   /* 1.294 */
    --line-height-normal: var(--phi);             /* 1.618 */
    --line-height-relaxed: var(--phi-squared);    /* 2.618 */
    --line-height-loose: var(--phi-cubed);        /* 4.236 */
    
    /* Letter Spacing */
    --tracking-tighter: -0.05em;
    --tracking-tight: -0.025em;
    --tracking-normal: 0em;
    --tracking-wide: 0.025em;
    --tracking-wider: 0.05em;
    --tracking-widest: 0.1em;
    
    /* Paragraph Spacing */
    --spacing-paragraph: calc(var(--phi-space-4) * var(--phi));
    
    /* Maximum Line Length */
    --measure-narrow: calc(45ch * var(--phi-inverse));  /* ~27ch */
    --measure-normal: 65ch;
    --measure-wide: calc(75ch * var(--phi));           /* ~121ch */
    
    /* Text Indentation */
    --indent-size: calc(var(--phi-space-4) * var(--phi));
}

/* ------------------------
 * Base Typography Styles
 * Core sacred text patterns
 * ------------------------ */

/* Body Text */
body {
    font-family: var(--font-primary);
    font-size: var(--font-size-base);
    line-height: var(--line-height-normal);
    font-weight: var(--font-weight-regular);
    text-rendering: optimizeLegibility;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
}

/* Headings */
h1, h2, h3, h4, h5, h6 {
    font-family: var(--font-display);
    font-weight: var(--font-weight-bold);
    line-height: var(--line-height-tight);
    margin-top: calc(var(--phi-space-4) * var(--phi));
    margin-bottom: var(--phi-space-4);
}

h1 {
    font-size: var(--scale-3xl);
    letter-spacing: var(--tracking-tight);
}

h2 {
    font-size: var(--scale-2xl);
    letter-spacing: var(--tracking-tight);
}

h3 {
    font-size: var(--scale-xl);
    letter-spacing: var(--tracking-normal);
}

h4 {
    font-size: var(--scale-lg);
    letter-spacing: var(--tracking-normal);
}

h5 {
    font-size: var(--scale-md);
    letter-spacing: var(--tracking-wide);
}

h6 {
    font-size: var(--scale-sm);
    letter-spacing: var(--tracking-wider);
    text-transform: uppercase;
}

/* Paragraphs */
p {
    margin-bottom: var(--spacing-paragraph);
    max-width: var(--measure-normal);
}

/* Links */
a {
    color: var(--color-ethereal-blue);
    text-decoration-thickness: 0.1em;
    text-underline-offset: 0.2em;
    transition: all 0.2s var(--ease-golden);
}

a:hover {
    color: var(--color-mystic-purple);
    text-decoration-thickness: 0.2em;
}
/* ------------------------
 * Text Styles and Variations
 * Sacred text manifestations
 * ------------------------ */

/* Text Sizes */
.text-3xs { font-size: var(--scale-3xs); }
.text-2xs { font-size: var(--scale-2xs); }
.text-xs { font-size: var(--scale-xs); }
.text-sm { font-size: var(--scale-sm); }
.text-base { font-size: var(--scale-md); }
.text-lg { font-size: var(--scale-lg); }
.text-xl { font-size: var(--scale-xl); }
.text-2xl { font-size: var(--scale-2xl); }
.text-3xl { font-size: var(--scale-3xl); }

/* Font Families */
.font-primary { font-family: var(--font-primary); }
.font-secondary { font-family: var(--font-secondary); }
.font-mono { font-family: var(--font-monospace); }
.font-display { font-family: var(--font-display); }

/* Font Weights */
.font-thin { font-weight: var(--font-weight-thin); }
.font-light { font-weight: var(--font-weight-light); }
.font-regular { font-weight: var(--font-weight-regular); }
.font-medium { font-weight: var(--font-weight-medium); }
.font-semibold { font-weight: var(--font-weight-semibold); }
.font-bold { font-weight: var(--font-weight-bold); }
.font-black { font-weight: var(--font-weight-black); }

/* Sacred Text Styles */
.text-sacred {
    background: linear-gradient(
        135deg,
        var(--color-ethereal-blue),
        var(--color-mystic-purple)
    );
    -webkit-background-clip: text;
    background-clip: text;
    color: transparent;
    font-weight: var(--font-weight-bold);
}

.text-divine {
    background: linear-gradient(
        var(--angle-sacred),
        var(--color-sacred-gold),
        var(--color-spiritual-green)
    );
    -webkit-background-clip: text;
    background-clip: text;
    color: transparent;
    font-weight: var(--font-weight-bold);
}

.text-ethereal {
    color: var(--color-ethereal-blue);
    text-shadow: 0 0 20px rgba(var(--color-ethereal-blue), 0.3);
}

/* Decorative Text Styles */
.text-outlined {
    -webkit-text-stroke: 1px currentColor;
    color: transparent;
}

.text-carved {
    background-color: var(--surface-primary);
    -webkit-text-stroke: 2px var(--text-primary);
    color: transparent;
    text-shadow: 
        3px 3px 0 var(--color-ethereal-blue),
        6px 6px 0 rgba(var(--color-mystic-purple), 0.3);
}

/* Text Emphasis */
.text-emphasis-light {
    color: var(--text-secondary);
    font-weight: var(--font-weight-light);
}

.text-emphasis-strong {
    color: var(--text-primary);
    font-weight: var(--font-weight-bold);
}

/* Drop Caps */
.has-drop-cap:first-letter {
    float: left;
    font-family: var(--font-display);
    font-size: calc(var(--scale-2xl) * var(--phi));
    line-height: var(--line-height-none);
    padding-right: var(--phi-space-3);
    margin-top: var(--phi-space-2);
}

/* Text Columns */
.text-columns-2 {
    column-count: 2;
    column-gap: calc(var(--phi-space-4) * var(--phi));
}

.text-columns-3 {
    column-count: 3;
    column-gap: calc(var(--phi-space-4) * var(--phi));
}

/* Pull Quotes */
.pull-quote {
    font-family: var(--font-display);
    font-size: var(--scale-xl);
    line-height: var(--line-height-tight);
    margin: calc(var(--phi-space-5) * var(--phi)) 0;
    padding: var(--phi-space-4);
    border-left: 4px solid var(--color-ethereal-blue);
    background: linear-gradient(
        to right,
        rgba(var(--color-ethereal-blue), 0.1),
        transparent
    );
}

/* Text Decorations */
.text-underline {
    text-decoration: underline;
    text-decoration-thickness: 0.1em;
    text-underline-offset: 0.2em;
}

.text-overline {
    text-decoration: overline;
    text-decoration-thickness: 0.1em;
    text-decoration-color: var(--color-ethereal-blue);
}

.text-line-through {
    text-decoration: line-through;
    text-decoration-thickness: 0.1em;
    text-decoration-color: var(--color-divine-red);
}

/* Text Transforms */
.text-uppercase { text-transform: uppercase; }
.text-lowercase { text-transform: lowercase; }
.text-capitalize { text-transform: capitalize; }
.text-normal-case { text-transform: none; }

/* Text Alignments */
.text-left { text-align: left; }
.text-center { text-align: center; }
.text-right { text-align: right; }
.text-justify { text-align: justify; }

/* Text Wrapping */
.text-wrap { white-space: normal; }
.text-nowrap { white-space: nowrap; }
.text-balance { text-wrap: balance; }
.text-pretty { text-wrap: pretty; }

/* Text Overflow */
.text-truncate {
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
}

.text-clamp-1 {
    display: -webkit-box;
    -webkit-line-clamp: 1;
    -webkit-box-orient: vertical;
    overflow: hidden;
}

.text-clamp-2 {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
}

.text-clamp-3 {
    display: -webkit-box;
    -webkit-line-clamp: 3;
    -webkit-box-orient: vertical;
    overflow: hidden;
}

/* Text Selection */
::selection {
    background: rgba(var(--color-ethereal-blue), 0.2);
    color: var(--color-ethereal-blue);
}
/* ------------------------
 * Typography Utilities
 * Sacred text enhancement patterns
 * ------------------------ */

/* Letter Spacing Utilities */
.tracking-tighter { letter-spacing: var(--tracking-tighter); }
.tracking-tight { letter-spacing: var(--tracking-tight); }
.tracking-normal { letter-spacing: var(--tracking-normal); }
.tracking-wide { letter-spacing: var(--tracking-wide); }
.tracking-wider { letter-spacing: var(--tracking-wider); }
.tracking-widest { letter-spacing: var(--tracking-widest); }

/* Line Height Utilities */
.leading-none { line-height: var(--line-height-none); }
.leading-tight { line-height: var(--line-height-tight); }
.leading-snug { line-height: var(--line-height-snug); }
.leading-normal { line-height: var(--line-height-normal); }
.leading-relaxed { line-height: var(--line-height-relaxed); }
.leading-loose { line-height: var(--line-height-loose); }

/* Text Width Constraints */
.measure-narrow {
    max-width: var(--measure-narrow);
}

.measure-normal {
    max-width: var(--measure-normal);
}

.measure-wide {
    max-width: var(--measure-wide);
}

/* Text Indentation */
.indent-none { text-indent: 0; }
.indent-sm { text-indent: calc(var(--indent-size) * var(--phi-inverse)); }
.indent-md { text-indent: var(--indent-size); }
.indent-lg { text-indent: calc(var(--indent-size) * var(--phi)); }
.indent-hanging { text-indent: calc(var(--indent-size) * -1); }

/* Vertical Rhythm */
.rhythm-tight > * + * {
    margin-top: calc(var(--phi-space-3) * var(--phi));
}

.rhythm-normal > * + * {
    margin-top: calc(var(--phi-space-4) * var(--phi));
}

.rhythm-relaxed > * + * {
    margin-top: calc(var(--phi-space-5) * var(--phi));
}

/* Text Direction */
.direction-ltr { direction: ltr; }
.direction-rtl { direction: rtl; }

/* Writing Mode */
.writing-horizontal-tb { writing-mode: horizontal-tb; }
.writing-vertical-rl { writing-mode: vertical-rl; }
.writing-vertical-lr { writing-mode: vertical-lr; }

/* Font Feature Settings */
.font-features-normal {
    font-feature-settings: normal;
}

.font-features-numeric {
    font-feature-settings: 
        "tnum" on,
        "lnum" on,
        "zero" on;
}

.font-features-fancy {
    font-feature-settings: 
        "liga" on,
        "dlig" on,
        "salt" on,
        "ss01" on;
}

/* Smart Quotes */
.quotes-smart {
    quotes: """ """ "'" "'";
}

.quotes-smart:before {
    content: open-quote;
}

.quotes-smart:after {
    content: close-quote;
}

/* List Styling */
.list-style-none { list-style-type: none; }
.list-style-disc { list-style-type: disc; }
.list-style-circle { list-style-type: circle; }
.list-style-square { list-style-type: square; }
.list-style-decimal { list-style-type: decimal; }
.list-style-roman { list-style-type: upper-roman; }
.list-style-alpha { list-style-type: lower-alpha; }

/* Text Spacing */
.word-spacing-tight { word-spacing: calc(-0.05em * var(--phi)); }
.word-spacing-normal { word-spacing: normal; }
.word-spacing-wide { word-spacing: calc(0.05em * var(--phi)); }

/* Hyphenation */
.hyphens-none { hyphens: none; }
.hyphens-manual { hyphens: manual; }
.hyphens-auto { hyphens: auto; }

/* Font Variant */
.small-caps { font-variant: small-caps; }
.all-small-caps { font-variant: all-small-caps; }
.petite-caps { font-variant: petite-caps; }
.unicase { font-variant: unicase; }
.titling-caps { font-variant: titling-caps; }

/* Font Variant Numeric */
.ordinal { font-variant-numeric: ordinal; }
.slashed-zero { font-variant-numeric: slashed-zero; }
.lining-nums { font-variant-numeric: lining-nums; }
.oldstyle-nums { font-variant-numeric: oldstyle-nums; }
.proportional-nums { font-variant-numeric: proportional-nums; }
.tabular-nums { font-variant-numeric: tabular-nums; }
.diagonal-fractions { font-variant-numeric: diagonal-fractions; }
.stacked-fractions { font-variant-numeric: stacked-fractions; }

/* Text Rendering */
.text-rendering-auto { text-rendering: auto; }
.text-rendering-speed { text-rendering: optimizeSpeed; }
.text-rendering-legibility { text-rendering: optimizeLegibility; }
.text-rendering-precision { text-rendering: geometricPrecision; }

/* Font Smoothing */
.font-smoothing-antialiased {
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
}

.font-smoothing-subpixel {
    -webkit-font-smoothing: subpixel-antialiased;
    -moz-osx-font-smoothing: auto;
}

/* Text Size Adjust */
.text-size-adjust-none {
    -webkit-text-size-adjust: none;
    text-size-adjust: none;
}

.text-size-adjust-auto {
    -webkit-text-size-adjust: auto;
    text-size-adjust: auto;
}

/* Accessibility */
.sr-only {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    white-space: nowrap;
    border: 0;
}

.not-sr-only {
    position: static;
    width: auto;
    height: auto;
    padding: 0;
    margin: 0;
    overflow: visible;
    clip: auto;
    white-space: normal;
}
/* ------------------------
 * Sacred Text Patterns
 * Divine textual manifestations
 * ------------------------ */

/* Golden Section Typography */
.text-golden-hierarchy {
    --golden-title: calc(var(--scale-2xl) * var(--phi));
    --golden-subtitle: var(--scale-xl);
    --golden-body: var(--scale-md);
    --golden-caption: calc(var(--scale-sm) * var(--phi-inverse));
    
    display: grid;
    gap: calc(var(--phi-space-4) * var(--phi-inverse));
}

.text-golden-hierarchy h1 {
    font-size: var(--golden-title);
    line-height: var(--line-height-tight);
    margin-bottom: calc(var(--phi-space-4) * var(--phi));
}

.text-golden-hierarchy h2 {
    font-size: var(--golden-subtitle);
    line-height: var(--line-height-snug);
    color: var(--text-secondary);
    margin-bottom: var(--phi-space-4);
}

.text-golden-hierarchy p {
    font-size: var(--golden-body);
    line-height: var(--line-height-normal);
    margin-bottom: calc(var(--phi-space-4) * var(--phi-inverse));
}

.text-golden-hierarchy small {
    font-size: var(--golden-caption);
    line-height: var(--line-height-tight);
    color: var(--text-secondary);
}

/* Sacred Scroll Text */
.text-sacred-scroll {
    --scroll-gradient: linear-gradient(
        to right,
        transparent,
        var(--surface-primary) 15%,
        var(--surface-primary) 85%,
        transparent
    );
    
    position: relative;
    max-width: var(--measure-wide);
    padding: calc(var(--phi-space-4) * var(--phi));
    
    &::before,
    &::after {
        content: '';
        position: absolute;
        left: 0;
        right: 0;
        height: calc(var(--phi-space-4) * var(--phi));
        pointer-events: none;
    }
    
    &::before {
        top: 0;
        background: var(--scroll-gradient);
        mask-image: linear-gradient(to bottom, black, transparent);
    }
    
    &::after {
        bottom: 0;
        background: var(--scroll-gradient);
        mask-image: linear-gradient(to top, black, transparent);
    }
}

/* Mandala Text Pattern */
.text-mandala {
    --mandala-size: calc(var(--phi-space-8) * var(--phi));
    
    position: relative;
    width: var(--mandala-size);
    height: var(--mandala-size);
    display: flex;
    align-items: center;
    justify-content: center;
    
    & > * {
        position: absolute;
        transform-origin: center;
        text-align: center;
        width: 100%;
    }
    
    & > *:nth-child(1) { transform: rotate(0deg); }
    & > *:nth-child(2) { transform: rotate(72deg); }
    & > *:nth-child(3) { transform: rotate(144deg); }
    & > *:nth-child(4) { transform: rotate(216deg); }
    & > *:nth-child(5) { transform: rotate(288deg); }
}

/* Sacred Geometry Text */
.text-sacred-geometry {
    --geometry-color: var(--color-ethereal-blue);
    --geometry-size: calc(var(--phi-space-6) * var(--phi));
    
    position: relative;
    padding: var(--geometry-size);
    
    &::before {
        content: '';
        position: absolute;
        inset: 0;
        background: 
            linear-gradient(var(--angle-sacred), transparent 49.9%, var(--geometry-color) 50%, transparent 50.1%),
            linear-gradient(calc(var(--angle-sacred) + 72deg), transparent 49.9%, var(--geometry-color) 50%, transparent 50.1%),
            linear-gradient(calc(var(--angle-sacred) + 144deg), transparent 49.9%, var(--geometry-color) 50%, transparent 50.1%),
            linear-gradient(calc(var(--angle-sacred) + 216deg), transparent 49.9%, var(--geometry-color) 50%, transparent 50.1%),
            linear-gradient(calc(var(--angle-sacred) + 288deg), transparent 49.9%, var(--geometry-color) 50%, transparent 50.1%);
        opacity: 0.1;
        z-index: -1;
    }
}

/* Divine Proportion Text */
.text-divine-proportion {
    display: grid;
    grid-template-columns: var(--phi-inverse) 1fr;
    gap: calc(var(--phi-space-4) * var(--phi));
    align-items: start;
}

/* Fibonacci Spacing */
.text-fibonacci {
    --fib-1: var(--phi-space-3);
    --fib-2: var(--phi-space-4);
    --fib-3: calc(var(--fib-1) + var(--fib-2));
    --fib-4: calc(var(--fib-2) + var(--fib-3));
    --fib-5: calc(var(--fib-3) + var(--fib-4));
    
    & > *:nth-child(1) { margin-bottom: var(--fib-1); }
    & > *:nth-child(2) { margin-bottom: var(--fib-2); }
    & > *:nth-child(3) { margin-bottom: var(--fib-3); }
    & > *:nth-child(4) { margin-bottom: var(--fib-4); }
    & > *:nth-child(5) { margin-bottom: var(--fib-5); }
}

/* Sacred Flow Text */
.text-sacred-flow {
    --flow-space: calc(var(--phi-space-4) * var(--phi));
    
    & > * + * {
        margin-top: var(--flow-space);
    }
    
    & h2 {
        --flow-space: calc(var(--phi-space-5) * var(--phi));
    }
    
    & h3 {
        --flow-space: calc(var(--phi-space-4) * var(--phi));
    }
    
    & blockquote {
        --flow-space: calc(var(--phi-space-6) * var(--phi));
    }
}

/* Vesica Piscis Text */
.text-vesica {
    --vesica-height: calc(var(--phi-space-8) * var(--phi));
    --vesica-width: calc(var(--vesica-height) * var(--phi));
    
    position: relative;
    width: var(--vesica-width);
    height: var(--vesica-height);
    display: flex;
    align-items: center;
    justify-content: center;
    text-align: center;
    
    &::before,
    &::after {
        content: '';
        position: absolute;
        width: var(--vesica-height);
        height: var(--vesica-height);
        border-radius: 50%;
        background: rgba(var(--color-ethereal-blue), 0.05);
        z-index: -1;
    }
    
    &::before { left: 0; }
    &::after { right: 0; }
}

/* Sacred Script */
.text-sacred-script {
    font-family: var(--font-display);
    background: linear-gradient(
        var(--angle-sacred),
        var(--color-ethereal-blue),
        var(--color-mystic-purple)
    );
    -webkit-background-clip: text;
    background-clip: text;
    color: transparent;
    text-shadow: 0 0 20px rgba(var(--color-ethereal-blue), 0.2);
    letter-spacing: var(--tracking-wide);
}

/* Divine Highlight */
.text-divine-highlight {
    background: linear-gradient(
        transparent 50%,
        rgba(var(--color-sacred-gold), 0.2) 50%,
        rgba(var(--color-sacred-gold), 0.2) 85%,
        transparent 85%
    );
    padding: 0 0.2em;
}
